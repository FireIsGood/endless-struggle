/* empty css                       */function q(){}const Pe=s=>s;function At(s,e){for(const t in e)s[t]=e[t];return s}function pt(s){return s()}function Qe(){return Object.create(null)}function M(s){s.forEach(pt)}function pe(s){return typeof s=="function"}function Y(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let be;function Ye(s,e){return s===e?!0:(be||(be=document.createElement("a")),be.href=e,s===be.href)}function Rt(s){return Object.keys(s).length===0}function xt(s,...e){if(s==null){for(const n of e)n(void 0);return q}const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Me(s,e,t){s.$$.on_destroy.push(xt(e,t))}function Ie(s,e,t,n){if(s){const i=mt(s,e,t,n);return s[0](i)}}function mt(s,e,t,n){return s[1]&&n?At(t.ctx.slice(),s[1](n(e))):t.ctx}function Ae(s,e,t,n){if(s[2]&&n){const i=s[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],o=Math.max(e.dirty.length,i.length);for(let a=0;a<o;a+=1)r[a]=e.dirty[a]|i[a];return r}return e.dirty|i}return e.dirty}function Re(s,e,t,n,i,r){if(i){const o=mt(e,t,n,r);s.p(o,i)}}function xe(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function je(s,e,t){return s.set(t),e}function Xe(s){const e=typeof s=="string"&&s.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[s,"px"]}const gt=typeof window<"u";let Be=gt?()=>window.performance.now():()=>Date.now(),Ke=gt?s=>requestAnimationFrame(s):q;const le=new Set;function bt(s){le.forEach(e=>{e.c(s)||(le.delete(e),e.f())}),le.size!==0&&Ke(bt)}function We(s){let e;return le.size===0&&Ke(bt),{promise:new Promise(t=>{le.add(e={c:s,f:t})}),abort(){le.delete(e)}}}let qe=!1;function qt(){qe=!0}function jt(){qe=!1}function Lt(s,e,t,n){for(;s<e;){const i=s+(e-s>>1);t(i)<=n?s=i+1:e=i}return s}function Ut(s){if(s.hydrate_init)return;s.hydrate_init=!0;let e=s.childNodes;if(s.nodeName==="HEAD"){const c=[];for(let l=0;l<e.length;l++){const d=e[l];d.claim_order!==void 0&&c.push(d)}e=c}const t=new Int32Array(e.length+1),n=new Int32Array(e.length);t[0]=-1;let i=0;for(let c=0;c<e.length;c++){const l=e[c].claim_order,d=(i>0&&e[t[i]].claim_order<=l?i+1:Lt(1,i,h=>e[t[h]].claim_order,l))-1;n[c]=t[d]+1;const f=d+1;t[f]=c,i=Math.max(f,i)}const r=[],o=[];let a=e.length-1;for(let c=t[i]+1;c!=0;c=n[c-1]){for(r.push(e[c-1]);a>=c;a--)o.push(e[a]);a--}for(;a>=0;a--)o.push(e[a]);r.reverse(),o.sort((c,l)=>c.claim_order-l.claim_order);for(let c=0,l=0;c<o.length;c++){for(;l<r.length&&o[c].claim_order>=r[l].claim_order;)l++;const d=l<r.length?r[l]:null;s.insertBefore(o[c],d)}}function Nt(s,e){s.appendChild(e)}function _t(s){if(!s)return document;const e=s.getRootNode?s.getRootNode():s.ownerDocument;return e&&e.host?e:s.ownerDocument}function Dt(s){const e=$("style");return e.textContent="/* empty */",Ft(_t(s),e),e.sheet}function Ft(s,e){return Nt(s.head||s,e),e.sheet}function y(s,e){if(qe){for(Ut(s),(s.actual_end_child===void 0||s.actual_end_child!==null&&s.actual_end_child.parentNode!==s)&&(s.actual_end_child=s.firstChild);s.actual_end_child!==null&&s.actual_end_child.claim_order===void 0;)s.actual_end_child=s.actual_end_child.nextSibling;e!==s.actual_end_child?(e.claim_order!==void 0||e.parentNode!==s)&&s.insertBefore(e,s.actual_end_child):s.actual_end_child=e.nextSibling}else(e.parentNode!==s||e.nextSibling!==null)&&s.appendChild(e)}function U(s,e,t){qe&&!t?y(s,e):(e.parentNode!==s||e.nextSibling!=t)&&s.insertBefore(e,t||null)}function v(s){s.parentNode&&s.parentNode.removeChild(s)}function $(s){return document.createElement(s)}function X(s){return document.createTextNode(s)}function R(){return X(" ")}function Ze(){return X("")}function G(s,e,t,n){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t,n)}function yt(s){return function(e){return e.preventDefault(),s.call(this,e)}}function w(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function Z(s){return s.dataset.svelteH}function T(s){return Array.from(s.childNodes)}function Vt(s){s.claim_info===void 0&&(s.claim_info={last_index:0,total_claimed:0})}function wt(s,e,t,n,i=!1){Vt(s);const r=(()=>{for(let o=s.claim_info.last_index;o<s.length;o++){const a=s[o];if(e(a)){const c=t(a);return c===void 0?s.splice(o,1):s[o]=c,i||(s.claim_info.last_index=o),a}}for(let o=s.claim_info.last_index-1;o>=0;o--){const a=s[o];if(e(a)){const c=t(a);return c===void 0?s.splice(o,1):s[o]=c,i?c===void 0&&s.claim_info.last_index--:s.claim_info.last_index=o,a}}return n()})();return r.claim_order=s.claim_info.total_claimed,s.claim_info.total_claimed+=1,r}function Mt(s,e,t,n){return wt(s,i=>i.nodeName===e,i=>{const r=[];for(let o=0;o<i.attributes.length;o++){const a=i.attributes[o];t[a.name]||r.push(a.name)}r.forEach(o=>i.removeAttribute(o))},()=>n(e))}function k(s,e,t){return Mt(s,e,t,$)}function he(s,e){return wt(s,t=>t.nodeType===3,t=>{const n=""+e;if(t.data.startsWith(n)){if(t.data.length!==n.length)return t.splitText(n.length)}else t.data=n},()=>X(e),!0)}function x(s){return he(s," ")}function Ne(s,e){e=""+e,s.data!==e&&(s.data=e)}function ae(s,e){s.value=e??""}function Se(s,e,t){s.classList.toggle(e,!!t)}function Bt(s,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:n})}const Ce=new Map;let $e=0;function Kt(s){let e=5381,t=s.length;for(;t--;)e=(e<<5)-e^s.charCodeAt(t);return e>>>0}function Wt(s,e){const t={stylesheet:Dt(e),rules:{}};return Ce.set(s,t),t}function ke(s,e,t,n,i,r,o,a=0){const c=16.666/n;let l=`{
`;for(let m=0;m<=1;m+=c){const _=e+(t-e)*r(m);l+=m*100+`%{${o(_,1-_)}}
`}const d=l+`100% {${o(t,1-t)}}
}`,f=`__svelte_${Kt(d)}_${a}`,h=_t(s),{stylesheet:u,rules:p}=Ce.get(h)||Wt(h,s);p[f]||(p[f]=!0,u.insertRule(`@keyframes ${f} ${d}`,u.cssRules.length));const b=s.style.animation||"";return s.style.animation=`${b?`${b}, `:""}${f} ${n}ms linear ${i}ms 1 both`,$e+=1,f}function Oe(s,e){const t=(s.style.animation||"").split(", "),n=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=t.length-n.length;i&&(s.style.animation=n.join(", "),$e-=i,$e||Ht())}function Ht(){Ke(()=>{$e||(Ce.forEach(s=>{const{ownerNode:e}=s.stylesheet;e&&v(e)}),Ce.clear())})}let fe;function de(s){fe=s}function vt(){if(!fe)throw new Error("Function called outside component initialization");return fe}function St(s){vt().$$.on_mount.push(s)}function Gt(s){vt().$$.on_destroy.push(s)}function zt(s,e){const t=s.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const oe=[],De=[];let ce=[];const et=[],Jt=Promise.resolve();let Fe=!1;function Qt(){Fe||(Fe=!0,Jt.then(Ct))}function z(s){ce.push(s)}const Le=new Set;let ie=0;function Ct(){if(ie!==0)return;const s=fe;do{try{for(;ie<oe.length;){const e=oe[ie];ie++,de(e),Yt(e.$$)}}catch(e){throw oe.length=0,ie=0,e}for(de(null),oe.length=0,ie=0;De.length;)De.pop()();for(let e=0;e<ce.length;e+=1){const t=ce[e];Le.has(t)||(Le.add(t),t())}ce.length=0}while(oe.length);for(;et.length;)et.pop()();Fe=!1,Le.clear(),de(s)}function Yt(s){if(s.fragment!==null){s.update(),M(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(z)}}function Xt(s){const e=[],t=[];ce.forEach(n=>s.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),ce=e}let ue;function He(){return ue||(ue=Promise.resolve(),ue.then(()=>{ue=null})),ue}function ee(s,e,t){s.dispatchEvent(Bt(`${e?"intro":"outro"}${t}`))}const we=new Set;let F;function Ee(){F={r:0,c:[],p:F}}function Te(){F.r||M(F.c),F=F.p}function P(s,e){s&&s.i&&(we.delete(s),s.i(e))}function j(s,e,t,n){if(s&&s.o){if(we.has(s))return;we.add(s),F.c.push(()=>{we.delete(s),n&&(t&&s.d(1),n())}),s.o(e)}else n&&n()}const Ge={duration:0};function Zt(s,e,t){const n={direction:"in"};let i=e(s,t,n),r=!1,o,a,c=0;function l(){o&&Oe(s,o)}function d(){const{delay:h=0,duration:u=300,easing:p=Pe,tick:b=q,css:m}=i||Ge;m&&(o=ke(s,0,1,u,h,p,m,c++)),b(0,1);const _=Be()+h,C=_+u;a&&a.abort(),r=!0,z(()=>ee(s,!0,"start")),a=We(O=>{if(r){if(O>=C)return b(1,0),ee(s,!0,"end"),l(),r=!1;if(O>=_){const g=p((O-_)/u);b(g,1-g)}}return r})}let f=!1;return{start(){f||(f=!0,Oe(s),pe(i)?(i=i(n),He().then(d)):d())},invalidate(){f=!1},end(){r&&(l(),r=!1)}}}function en(s,e,t){const n={direction:"out"};let i=e(s,t,n),r=!0,o;const a=F;a.r+=1;let c;function l(){const{delay:d=0,duration:f=300,easing:h=Pe,tick:u=q,css:p}=i||Ge;p&&(o=ke(s,1,0,f,d,h,p));const b=Be()+d,m=b+f;z(()=>ee(s,!1,"start")),"inert"in s&&(c=s.inert,s.inert=!0),We(_=>{if(r){if(_>=m)return u(0,1),ee(s,!1,"end"),--a.r||M(a.c),!1;if(_>=b){const C=h((_-b)/f);u(1-C,C)}}return r})}return pe(i)?He().then(()=>{i=i(n),l()}):l(),{end(d){d&&"inert"in s&&(s.inert=c),d&&i.tick&&i.tick(1,0),r&&(o&&Oe(s,o),r=!1)}}}function tt(s,e,t,n){let r=e(s,t,{direction:"both"}),o=n?0:1,a=null,c=null,l=null,d;function f(){l&&Oe(s,l)}function h(p,b){const m=p.b-o;return b*=Math.abs(m),{a:o,b:p.b,d:m,duration:b,start:p.start,end:p.start+b,group:p.group}}function u(p){const{delay:b=0,duration:m=300,easing:_=Pe,tick:C=q,css:O}=r||Ge,g={start:Be()+b,b:p};p||(g.group=F,F.r+=1),"inert"in s&&(p?d!==void 0&&(s.inert=d):(d=s.inert,s.inert=!0)),a||c?c=g:(O&&(f(),l=ke(s,o,p,m,b,_,O)),p&&C(0,1),a=h(g,m),z(()=>ee(s,p,"start")),We(S=>{if(c&&S>c.start&&(a=h(c,m),c=null,ee(s,a.b,"start"),O&&(f(),l=ke(s,o,a.b,a.duration,0,_,r.css))),a){if(S>=a.end)C(o=a.b,1-o),ee(s,a.b,"end"),c||(a.b?f():--a.group.r||M(a.group.c)),a=null;else if(S>=a.start){const I=S-a.start;o=a.a+a.d*_(I/a.duration),C(o,1-o)}}return!!(a||c)}))}return{run(p){pe(r)?He().then(()=>{r=r({direction:p?"in":"out"}),u(p)}):u(p)},end(){f(),a=c=null}}}function nt(s){return s?.length!==void 0?s:Array.from(s)}function tn(s,e){j(s,1,1,()=>{e.delete(s.key)})}function nn(s,e,t,n,i,r,o,a,c,l,d,f){let h=s.length,u=r.length,p=h;const b={};for(;p--;)b[s[p].key]=p;const m=[],_=new Map,C=new Map,O=[];for(p=u;p--;){const E=f(i,r,p),A=t(E);let L=o.get(A);L?n&&O.push(()=>L.p(E,e)):(L=l(A,E),L.c()),_.set(A,m[p]=L),A in b&&C.set(A,Math.abs(p-b[A]))}const g=new Set,S=new Set;function I(E){P(E,1),E.m(a,d),o.set(E.key,E),d=E.first,u--}for(;h&&u;){const E=m[u-1],A=s[h-1],L=E.key,B=A.key;E===A?(d=E.first,h--,u--):_.has(B)?!o.has(L)||g.has(L)?I(E):S.has(B)?h--:C.get(L)>C.get(B)?(S.add(L),I(E)):(g.add(B),h--):(c(A,o),h--)}for(;h--;){const E=s[h];_.has(E.key)||c(E,o)}for(;u;)I(m[u-1]);return M(O),m}function J(s){s&&s.c()}function Q(s,e){s&&s.l(e)}function K(s,e,t){const{fragment:n,after_update:i}=s.$$;n&&n.m(e,t),z(()=>{const r=s.$$.on_mount.map(pt).filter(pe);s.$$.on_destroy?s.$$.on_destroy.push(...r):M(r),s.$$.on_mount=[]}),i.forEach(z)}function W(s,e){const t=s.$$;t.fragment!==null&&(Xt(t.after_update),M(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function sn(s,e){s.$$.dirty[0]===-1&&(oe.push(s),Qt(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function te(s,e,t,n,i,r,o=null,a=[-1]){const c=fe;de(s);const l=s.$$={fragment:null,ctx:[],props:r,update:q,not_equal:i,bound:Qe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Qe(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(l.root);let d=!1;if(l.ctx=t?t(s,e.props||{},(f,h,...u)=>{const p=u.length?u[0]:h;return l.ctx&&i(l.ctx[f],l.ctx[f]=p)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](p),d&&sn(s,f)),h}):[],l.update(),d=!0,M(l.before_update),l.fragment=n?n(l.ctx):!1,e.target){if(e.hydrate){qt();const f=T(e.target);l.fragment&&l.fragment.l(f),f.forEach(v)}else l.fragment&&l.fragment.c();e.intro&&P(s.$$.fragment),K(s,e.target,e.anchor),jt(),Ct()}de(c)}class ne{$$=void 0;$$set=void 0;$destroy(){W(this,1),this.$destroy=q}$on(e,t){if(!pe(t))return q;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Rt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(rn);function on(s){const e=s-1;return e*e*e+1}function an(s,{delay:e=0,duration:t=400,easing:n=Pe}={}){const i=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:n,css:r=>`opacity: ${r*i}`}}function Ve(s,{delay:e=0,duration:t=400,easing:n=on,x:i=0,y:r=0,opacity:o=0}={}){const a=getComputedStyle(s),c=+a.opacity,l=a.transform==="none"?"":a.transform,d=c*(1-o),[f,h]=Xe(i),[u,p]=Xe(r);return{delay:e,duration:t,easing:n,css:(b,m)=>`
			transform: ${l} translate(${(1-b)*f}${h}, ${(1-b)*u}${p});
			opacity: ${c-d*m}`}}class D extends Error{constructor(e){super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,D.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof D||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=this.response?.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":this.originalError?.cause?.message?.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const _e=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ln(s,e){const t={};if(typeof s!="string")return t;const n=Object.assign({},e||{}).decode||cn;let i=0;for(;i<s.length;){const r=s.indexOf("=",i);if(r===-1)break;let o=s.indexOf(";",i);if(o===-1)o=s.length;else if(o<r){i=s.lastIndexOf(";",r-1)+1;continue}const a=s.slice(i,r).trim();if(t[a]===void 0){let c=s.slice(r+1,o).trim();c.charCodeAt(0)===34&&(c=c.slice(1,-1));try{t[a]=n(c)}catch{t[a]=c}}i=o+1}return t}function st(s,e,t){const n=Object.assign({},t||{}),i=n.encode||un;if(!_e.test(s))throw new TypeError("argument name is invalid");const r=i(e);if(r&&!_e.test(r))throw new TypeError("argument val is invalid");let o=s+"="+r;if(n.maxAge!=null){const a=n.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(n.domain){if(!_e.test(n.domain))throw new TypeError("option domain is invalid");o+="; Domain="+n.domain}if(n.path){if(!_e.test(n.path))throw new TypeError("option path is invalid");o+="; Path="+n.path}if(n.expires){if(!function(c){return Object.prototype.toString.call(c)==="[object Date]"||c instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function cn(s){return s.indexOf("%")!==-1?decodeURIComponent(s):s}function un(s){return encodeURIComponent(s)}let $t;function ve(s){if(s)try{const e=decodeURIComponent($t(s.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function kt(s,e=0){let t=ve(s);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}$t=typeof atob=="function"?atob:s=>{let e=String(s).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,n,i=0,r=0,o="";n=e.charAt(r++);~n&&(t=i%4?64*t+n:n,i++%4)?o+=String.fromCharCode(255&t>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o};const it="pb_auth";class hn{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!kt(this.token)}get isAdmin(){return ve(this.token).type==="admin"}get isAuthRecord(){return ve(this.token).type==="authRecord"}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=it){const n=ln(e||"")[t]||"";let i={};try{i=JSON.parse(n),(typeof i===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)}exportToCookie(e,t=it){const n={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},i=ve(this.token);n.expires=i?.exp?new Date(1e3*i.exp):new Date("1970-01-01"),e=Object.assign({},n,e);const r={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let o=st(t,JSON.stringify(r),e);const a=typeof Blob<"u"?new Blob([o]).size:o.length;if(r.model&&a>4096){r.model={id:r?.model?.id,email:r?.model?.email};const c=["collectionId","username","verified"];for(const l in this.model)c.includes(l)&&(r.model[l]=this.model[l]);o=st(t,JSON.stringify(r),e)}return o}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let n=this._onChangeCallbacks.length-1;n>=0;n--)if(this._onChangeCallbacks[n]==e)return delete this._onChangeCallbacks[n],void this._onChangeCallbacks.splice(n,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.model)}}class dn extends hn{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&window?.localStorage){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&window?.localStorage){let n=t;typeof t!="string"&&(n=JSON.stringify(t)),window.localStorage.setItem(e,n)}else this.storageFallback[e]=t}_storageRemove(e){typeof window<"u"&&window?.localStorage&&window.localStorage?.removeItem(e),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&window?.localStorage&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.model||null)})}}class se{constructor(e){this.client=e}}class fn extends se{getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}testEmail(e,t,n){return n=Object.assign({method:"POST",body:{email:e,template:t}},n),this.client.send("/api/settings/test/email",n).then(()=>!0)}generateAppleClientSecret(e,t,n,i,r,o){return o=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:n,privateKey:i,duration:r}},o),this.client.send("/api/settings/apple/generate-client-secret",o)}}class ze extends se{decode(e){return e}getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let n=500;return(t=Object.assign({},e,t)).batch&&(n=t.batch,delete t.batch),this._getFullList(n,t)}getList(e=1,t=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:e,perPage:t},n.query),this.client.send(this.baseCrudPath,n).then(i=>(i.items=i.items?.map(r=>this.decode(r))||[],i))}getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(n=>{if(!n?.items?.length)throw new D({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return n.items[0]})}getOne(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(n=>this.decode(n))}create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(n=>this.decode(n))}update(e,t,n){return n=Object.assign({method:"PATCH",body:t},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),n).then(i=>this.decode(i))}delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let n=[],i=async r=>this.getList(r,e||500,t).then(o=>{const a=o.items;return n=n.concat(a),a.length==o.perPage?i(r+1):n});return i(1)}}function N(s,e,t,n){const i=n!==void 0;return i||t!==void 0?i?(console.warn(s),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,n),e):Object.assign(e,t):e}function Ue(s){s._resetAutoRefresh?.()}class pn extends ze{get baseCrudPath(){return"/api/admins"}update(e,t,n){return super.update(e,t,n).then(i=>(this.client.authStore.model?.id===i.id&&this.client.authStore.model?.collectionId===void 0&&this.client.authStore.save(this.client.authStore.token,i),i))}delete(e,t){return super.delete(e,t).then(n=>(n&&this.client.authStore.model?.id===e&&this.client.authStore.model?.collectionId===void 0&&this.client.authStore.clear(),n))}authResponse(e){const t=this.decode(e?.admin||{});return e?.token&&e?.admin&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:e?.token||"",admin:t})}async authWithPassword(e,t,n,i){let r={method:"POST",body:{identity:e,password:t}};r=N("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",r,n,i);const o=r.autoRefreshThreshold;delete r.autoRefreshThreshold,r.autoRefresh||Ue(this.client);let a=await this.client.send(this.baseCrudPath+"/auth-with-password",r);return a=this.authResponse(a),o&&function(l,d,f,h){Ue(l);const u=l.beforeSend,p=l.authStore.model,b=l.authStore.onChange((m,_)=>{(!m||_?.id!=p?.id||(_?.collectionId||p?.collectionId)&&_?.collectionId!=p?.collectionId)&&Ue(l)});l._resetAutoRefresh=function(){b(),l.beforeSend=u,delete l._resetAutoRefresh},l.beforeSend=async(m,_)=>{const C=l.authStore.token;if(_.query?.autoRefresh)return u?u(m,_):{url:m,sendOptions:_};let O=l.authStore.isValid;if(O&&kt(l.authStore.token,d))try{await f()}catch{O=!1}O||await h();const g=_.headers||{};for(let S in g)if(S.toLowerCase()=="authorization"&&C==g[S]&&l.authStore.token){g[S]=l.authStore.token;break}return _.headers=g,u?u(m,_):{url:m,sendOptions:_}}}(this.client,o,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},r))),a}authRefresh(e,t){let n={method:"POST"};return n=N("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,e,t),this.client.send(this.baseCrudPath+"/auth-refresh",n).then(this.authResponse.bind(this))}requestPasswordReset(e,t,n){let i={method:"POST",body:{email:e}};return i=N("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,t,n),this.client.send(this.baseCrudPath+"/request-password-reset",i).then(()=>!0)}confirmPasswordReset(e,t,n,i,r){let o={method:"POST",body:{token:e,password:t,passwordConfirm:n}};return o=N("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",o,i,r),this.client.send(this.baseCrudPath+"/confirm-password-reset",o).then(()=>!0)}}const mn=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Ot(s){if(s){s.query=s.query||{};for(let e in s)mn.includes(e)||(s.query[e]=s[e],delete s[e])}}class Et extends se{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,n){if(!e)throw new Error("topic must be set.");let i=e;if(n){Ot(n);const o="options="+encodeURIComponent(JSON.stringify({query:n.query,headers:n.headers}));i+=(i.includes("?")?"&":"?")+o}const r=function(o){const a=o;let c;try{c=JSON.parse(a?.data)}catch{}t(c||{})};return this.subscriptions[i]||(this.subscriptions[i]=[]),this.subscriptions[i].push(r),this.isConnected?this.subscriptions[i].length===1?await this.submitSubscriptions():this.eventSource?.addEventListener(i,r):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,r)}async unsubscribe(e){let t=!1;if(e){const n=this.getSubscriptionsByTopic(e);for(let i in n)if(this.hasSubscriptionListeners(i)){for(let r of this.subscriptions[i])this.eventSource?.removeEventListener(i,r);delete this.subscriptions[i],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){let t=!1;for(let n in this.subscriptions)if((n+"?").startsWith(e)){t=!0;for(let i of this.subscriptions[n])this.eventSource?.removeEventListener(n,i);delete this.subscriptions[n]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){let n=!1;const i=this.getSubscriptionsByTopic(e);for(let r in i){if(!Array.isArray(this.subscriptions[r])||!this.subscriptions[r].length)continue;let o=!1;for(let a=this.subscriptions[r].length-1;a>=0;a--)this.subscriptions[r][a]===t&&(o=!0,delete this.subscriptions[r][a],this.subscriptions[r].splice(a,1),this.eventSource?.removeEventListener(r,t));o&&(this.subscriptions[r].length||delete this.subscriptions[r],n||this.hasSubscriptionListeners(r)||(n=!0))}this.hasSubscriptionListeners()?n&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){if(this.subscriptions=this.subscriptions||{},e)return!!this.subscriptions[e]?.length;for(let t in this.subscriptions)if(this.subscriptions[t]?.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!e?.isAbort)throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let n in this.subscriptions)(n+"?").startsWith(e)&&(t[n]=this.subscriptions[n]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t?.lastEventId,this.submitSubscriptions().then(async()=>{let n=3;for(;this.hasUnsentSubscriptions()&&n>0;)n--,await this.submitSubscriptions()}).then(()=>{for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const n=this.getSubscriptionsByTopic("PB_CONNECT");for(let i in n)for(let r of n[i])r(e)}).catch(n=>{this.clientId="",this.connectErrorHandler(n)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let n of this.pendingConnects)n.reject(new D(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),this.eventSource?.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let t of this.pendingConnects)t.resolve();this.pendingConnects=[]}}}class gn extends ze{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(e,t,n){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,n)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const n=Object.assign({},e,t);return super.getFullList(n)}getList(e=1,t=30,n){return super.getList(e,t,n)}getFirstListItem(e,t){return super.getFirstListItem(e,t)}getOne(e,t){return super.getOne(e,t)}create(e,t){return super.create(e,t)}update(e,t,n){return super.update(e,t,n).then(i=>(this.client.authStore.model?.id!==i?.id||this.client.authStore.model?.collectionId!==this.collectionIdOrName&&this.client.authStore.model?.collectionName!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,i),i))}delete(e,t){return super.delete(e,t).then(n=>(!n||this.client.authStore.model?.id!==e||this.client.authStore.model?.collectionId!==this.collectionIdOrName&&this.client.authStore.model?.collectionName!==this.collectionIdOrName||this.client.authStore.clear(),n))}authResponse(e){const t=this.decode(e?.record||{});return this.client.authStore.save(e?.token,t),Object.assign({},e,{token:e?.token||"",record:t})}listAuthMethods(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e).then(t=>Object.assign({},t,{usernamePassword:!!t?.usernamePassword,emailPassword:!!t?.emailPassword,authProviders:Array.isArray(t?.authProviders)?t?.authProviders:[]}))}authWithPassword(e,t,n,i){let r={method:"POST",body:{identity:e,password:t}};return r=N("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",r,n,i),this.client.send(this.baseCollectionPath+"/auth-with-password",r).then(o=>this.authResponse(o))}authWithOAuth2Code(e,t,n,i,r,o,a){let c={method:"POST",body:{provider:e,code:t,codeVerifier:n,redirectUrl:i,createData:r}};return c=N("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",c,o,a),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",c).then(l=>this.authResponse(l))}async authWithOAuth2(...e){if(e.length>1||typeof e?.[0]=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code(e?.[0]||"",e?.[1]||"",e?.[2]||"",e?.[3]||"",e?.[4]||{},e?.[5]||{},e?.[6]||{});const t=e?.[0]||{},n=(await this.listAuthMethods()).authProviders.find(c=>c.name===t.provider);if(!n)throw new D(new Error(`Missing or invalid provider "${t.provider}".`));const i=this.client.buildUrl("/api/oauth2-redirect"),r=new Et(this.client);let o=null;function a(){o?.close(),r.unsubscribe()}return t.urlCallback||(o=rt(void 0)),new Promise(async(c,l)=>{try{await r.subscribe("@oauth2",async u=>{const p=r.clientId;try{if(!u.state||p!==u.state)throw new Error("State parameters don't match.");const b=Object.assign({},t);delete b.provider,delete b.scopes,delete b.createData,delete b.urlCallback;const m=await this.authWithOAuth2Code(n.name,u.code,n.codeVerifier,i,t.createData,b);c(m)}catch(b){l(new D(b))}a()});const d={state:r.clientId};t.scopes?.length&&(d.scope=t.scopes.join(" "));const f=this._replaceQueryParams(n.authUrl+i,d);await(t.urlCallback||function(u){o?o.location.href=u:o=rt(u)})(f)}catch(d){a(),l(new D(d))}})}authRefresh(e,t){let n={method:"POST"};return n=N("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",n).then(i=>this.authResponse(i))}requestPasswordReset(e,t,n){let i={method:"POST",body:{email:e}};return i=N("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/request-password-reset",i).then(()=>!0)}confirmPasswordReset(e,t,n,i,r){let o={method:"POST",body:{token:e,password:t,passwordConfirm:n}};return o=N("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",o,i,r),this.client.send(this.baseCollectionPath+"/confirm-password-reset",o).then(()=>!0)}requestVerification(e,t,n){let i={method:"POST",body:{email:e}};return i=N("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/request-verification",i).then(()=>!0)}confirmVerification(e,t,n){let i={method:"POST",body:{token:e}};return i=N("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/confirm-verification",i).then(()=>!0)}requestEmailChange(e,t,n){let i={method:"POST",body:{newEmail:e}};return i=N("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/request-email-change",i).then(()=>!0)}confirmEmailChange(e,t,n,i){let r={method:"POST",body:{token:e,password:t}};return r=N("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",r,n,i),this.client.send(this.baseCollectionPath+"/confirm-email-change",r).then(()=>!0)}listExternalAuths(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",t)}unlinkExternalAuth(e,t,n){return n=Object.assign({method:"DELETE"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(t),n).then(()=>!0)}_replaceQueryParams(e,t={}){let n=e,i="";e.indexOf("?")>=0&&(n=e.substring(0,e.indexOf("?")),i=e.substring(e.indexOf("?")+1));const r={},o=i.split("&");for(const a of o){if(a=="")continue;const c=a.split("=");r[decodeURIComponent(c[0].replace(/\+/g," "))]=decodeURIComponent((c[1]||"").replace(/\+/g," "))}for(let a in t)t.hasOwnProperty(a)&&(t[a]==null?delete r[a]:r[a]=t[a]);i="";for(let a in r)r.hasOwnProperty(a)&&(i!=""&&(i+="&"),i+=encodeURIComponent(a.replace(/%20/g,"+"))+"="+encodeURIComponent(r[a].replace(/%20/g,"+")));return i!=""?n+"?"+i:n}}function rt(s){if(typeof window>"u"||!window?.open)throw new D(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,n=window.innerWidth,i=window.innerHeight;e=e>n?n:e,t=t>i?i:t;let r=n/2-e/2,o=i/2-t/2;return window.open(s,"popup_window","width="+e+",height="+t+",top="+o+",left="+r+",resizable,menubar=no")}class bn extends ze{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,n){return n=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},n),this.client.send(this.baseCrudPath+"/import",n).then(()=>!0)}}class _n extends se{getList(e=1,t=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:e,perPage:t},n.query),this.client.send("/api/logs",n)}getOne(e,t){return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class yn extends se{check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class wn extends se{getUrl(e,t,n={}){if(!t||!e?.id||!e?.collectionId&&!e?.collectionName)return"";const i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));let r=this.client.buildUrl(i.join("/"));if(Object.keys(n).length){n.download===!1&&delete n.download;const o=new URLSearchParams(n);r+=(r.includes("?")?"&":"?")+o}return r}getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>t?.token||"")}}class vn extends se{getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class Sn{constructor(e="/",t,n="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=n,this.authStore=t||new dn,this.admins=new pn(this),this.collections=new bn(this),this.files=new wn(this),this.logs=new _n(this),this.settings=new fn(this),this.realtime=new Et(this),this.health=new yn(this),this.backups=new vn(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new gn(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let n in t){let i=t[n];switch(typeof i){case"boolean":case"number":i=""+i;break;case"string":i="'"+i.replace(/'/g,"\\'")+"'";break;default:i=i===null?"null":i instanceof Date?"'"+i.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(i).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+n+"}",i)}return e}getFileUrl(e,t,n={}){return this.files.getUrl(e,t,n)}buildUrl(e){let t=this.baseUrl;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=window.location.origin?.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseUrl),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let n=this.buildUrl(e);if(this.beforeSend){const i=Object.assign({},await this.beforeSend(n,t));i.url!==void 0||i.options!==void 0?(n=i.url||n,t=i.options||t):Object.keys(i).length&&(t=i,console?.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const i=this.serializeQueryParams(t.query);i&&(n+=(n.includes("?")?"&":"?")+i),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(n,t).then(async i=>{let r={};try{r=await i.json()}catch{}if(this.afterSend&&(r=await this.afterSend(i,r)),i.status>=400)throw new D({url:i.url,status:i.status,data:r});return r}).catch(i=>{throw new D(i)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=this.convertToFormDataIfNeeded(t.body),Ot(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const n=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(n);const i=new AbortController;this.cancelControllers[n]=i,t.signal=i.signal}return t}convertToFormDataIfNeeded(e){if(typeof FormData>"u"||e===void 0||typeof e!="object"||e===null||this.isFormData(e)||!this.hasBlobField(e))return e;const t=new FormData;for(let n in e){const i=Array.isArray(e[n])?e[n]:[e[n]];for(let r of i)t.append(n,r)}return t}hasBlobField(e){for(let t in e){const n=Array.isArray(e[t])?e[t]:[e[t]];for(let i of n)if(typeof Blob<"u"&&i instanceof Blob||typeof File<"u"&&i instanceof File)return!0}return!1}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let n in e)if(n.toLowerCase()==t)return e[n];return null}isFormData(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)}serializeQueryParams(e){const t=[];for(const n in e){if(e[n]===null)continue;const i=e[n],r=encodeURIComponent(n);if(Array.isArray(i))for(const o of i)t.push(r+"="+encodeURIComponent(o));else i instanceof Date?t.push(r+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?t.push(r+"="+encodeURIComponent(JSON.stringify(i))):t.push(r+"="+encodeURIComponent(i))}return t.join("&")}}const re=[];function Tt(s,e=q){let t;const n=new Set;function i(a){if(Y(s,a)&&(s=a,t)){const c=!re.length;for(const l of n)l[1](),re.push(l,s);if(c){for(let l=0;l<re.length;l+=2)re[l][0](re[l+1]);re.length=0}}}function r(a){i(a(s))}function o(a,c=q){const l=[a,c];return n.add(l),n.size===1&&(t=e(i,r)||q),a(s),()=>{n.delete(l),n.size===0&&t&&(t(),t=null)}}return{set:i,update:r,subscribe:o}}const V=new Sn("https://endless-struggle.pockethost.io/"),Je=Tt(V.authStore.model);V.authStore.onChange(()=>{Je.set(V.authStore.model)});function Cn(s){let e,t,n,i="Log in to continue",r,o,a,c,l="Username",d,f,h,u,p,b="Password",m,_,C,O,g,S,I,E;return{c(){e=$("div"),t=$("div"),n=$("h2"),n.textContent=i,r=R(),o=$("form"),a=$("div"),c=$("label"),c.textContent=l,d=R(),f=$("input"),h=R(),u=$("div"),p=$("label"),p.textContent=b,m=R(),_=$("input"),C=R(),O=$("input"),g=R(),S=$("input"),this.h()},l(A){e=k(A,"DIV",{class:!0});var L=T(e);t=k(L,"DIV",{class:!0});var B=T(t);n=k(B,"H2",{class:!0,"data-svelte-h":!0}),Z(n)!=="svelte-vao6yj"&&(n.textContent=i),r=x(B),o=k(B,"FORM",{});var H=T(o);a=k(H,"DIV",{class:!0});var me=T(a);c=k(me,"LABEL",{for:!0,"data-svelte-h":!0}),Z(c)!=="svelte-1wr0xay"&&(c.textContent=l),d=x(me),f=k(me,"INPUT",{id:!0,type:!0,placeholder:!0}),me.forEach(v),h=x(H),u=k(H,"DIV",{class:!0});var ge=T(u);p=k(ge,"LABEL",{for:!0,"data-svelte-h":!0}),Z(p)!=="svelte-pepa0a"&&(p.textContent=b),m=x(ge),_=k(ge,"INPUT",{id:!0,type:!0,placeholder:!0}),ge.forEach(v),C=x(H),O=k(H,"INPUT",{type:!0}),g=x(H),S=k(H,"INPUT",{type:!0,class:!0}),H.forEach(v),B.forEach(v),L.forEach(v),this.h()},h(){w(n,"class","pad"),w(c,"for","username"),w(f,"id","username"),w(f,"type","text"),w(f,"placeholder","username"),f.required=!0,w(a,"class","form-item svelte-1bo7go2"),w(p,"for","password"),w(_,"id","password"),w(_,"type","password"),w(_,"placeholder","password"),_.required=!0,w(u,"class","form-item svelte-1bo7go2"),w(O,"type","submit"),O.value="Log in",w(S,"type","submit"),S.value="Sign up",w(S,"class","button-secondary"),w(t,"class","log-in-container svelte-1bo7go2"),w(e,"class","log-in-wrapper svelte-1bo7go2")},m(A,L){U(A,e,L),y(e,t),y(t,n),y(t,r),y(t,o),y(o,a),y(a,c),y(a,d),y(a,f),ae(f,s[0]),y(o,h),y(o,u),y(u,p),y(u,m),y(u,_),ae(_,s[1]),y(o,C),y(o,O),y(o,g),y(o,S),I||(E=[G(f,"input",s[5]),G(_,"input",s[6]),G(O,"click",s[2]),G(S,"click",s[3]),G(o,"submit",yt(s[4]))],I=!0)},p(A,[L]){L&1&&f.value!==A[0]&&ae(f,A[0]),L&2&&_.value!==A[1]&&ae(_,A[1])},i:q,o:q,d(A){A&&v(e),I=!1,M(E)}}}function $n(s,e,t){let n,i;async function r(){if(!(n===void 0||i===void 0))try{await V.collection("users").authWithPassword(n,i),a()}catch(f){console.log(f)}}async function o(){if(!(n===void 0||i===void 0))try{const f={username:n,password:i,passwordConfirm:i,name:n,role:"user"};await V.collection("users").create(f),await r(),a()}catch(f){console.log(f)}}function a(){t(0,n=""),t(1,i="")}function c(f){zt.call(this,s,f)}function l(){n=this.value,t(0,n)}function d(){i=this.value,t(1,i)}return[n,i,r,o,c,l,d]}class kn extends ne{constructor(e){super(),te(this,e,$n,Cn,Y,{})}}function On(s){let e,t="Log out",n,i;return{c(){e=$("button"),e.textContent=t,this.h()},l(r){e=k(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-pj9a99"&&(e.textContent=t),this.h()},h(){w(e,"class","button-muted svelte-1b7r8zm")},m(r,o){U(r,e,o),n||(i=G(e,"click",s[0]),n=!0)},p:q,i:q,o:q,d(r){r&&v(e),n=!1,i()}}}function En(s){function e(){V.authStore.clear()}return[e]}class Tn extends ne{constructor(e){super(),te(this,e,En,On,Y,{})}}const Pn=s=>({}),ot=s=>({});function at(s){let e,t,n,i,r,o;const a=s[2].spinner,c=Ie(a,s,s[1],ot);return{c(){e=$("div"),t=$("div"),c&&c.c(),n=R(),i=$("div"),this.h()},l(l){e=k(l,"DIV",{class:!0});var d=T(e);t=k(d,"DIV",{class:!0});var f=T(t);c&&c.l(f),f.forEach(v),n=x(d),i=k(d,"DIV",{class:!0}),T(i).forEach(v),d.forEach(v),this.h()},h(){w(t,"class","loading-icon svelte-cldxh"),w(i,"class","loading-bg"),w(e,"class","loading-screen svelte-cldxh"),Se(e,"loading",s[0])},m(l,d){U(l,e,d),y(e,t),c&&c.m(t,null),y(e,n),y(e,i),o=!0},p(l,d){c&&c.p&&(!o||d&2)&&Re(c,a,l,l[1],o?Ae(a,l[1],d,Pn):xe(l[1]),ot),(!o||d&1)&&Se(e,"loading",l[0])},i(l){o||(P(c,l),r&&r.end(1),o=!0)},o(l){j(c,l),l&&(r=en(e,an,{})),o=!1},d(l){l&&v(e),c&&c.d(l),l&&r&&r.end()}}}function In(s){let e,t,n=s[0]&&at(s);return{c(){n&&n.c(),e=Ze()},l(i){n&&n.l(i),e=Ze()},m(i,r){n&&n.m(i,r),U(i,e,r),t=!0},p(i,[r]){i[0]?n?(n.p(i,r),r&1&&P(n,1)):(n=at(i),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(Ee(),j(n,1,1,()=>{n=null}),Te())},i(i){t||(P(n),t=!0)},o(i){j(n),t=!1},d(i){i&&v(e),n&&n.d(i)}}}function An(s,e,t){let{$$slots:n={},$$scope:i}=e,{loading:r}=e;return s.$$set=o=>{"loading"in o&&t(0,r=o.loading),"$$scope"in o&&t(1,i=o.$$scope)},[r,i,n]}class Pt extends ne{constructor(e){super(),te(this,e,An,In,Y,{loading:0})}}function Rn(s){let e,t;return{c(){e=$("img"),this.h()},l(n){e=k(n,"IMG",{width:!0,height:!0,src:!0,alt:!0}),this.h()},h(){w(e,"width",72),w(e,"height",72),Ye(e.src,t=`https://api.dicebear.com/7.x/icons/svg?backgroundColor=b6e3f4,c0aede,d1d4f9&backgroundType=gradientLinear&seed=${s[0]}`)||w(e,"src",t),w(e,"alt","")},m(n,i){U(n,e,i)},p(n,[i]){i&1&&!Ye(e.src,t=`https://api.dicebear.com/7.x/icons/svg?backgroundColor=b6e3f4,c0aede,d1d4f9&backgroundType=gradientLinear&seed=${n[0]}`)&&w(e,"src",t)},i:q,o:q,d(n){n&&v(e)}}}function xn(s,e,t){let{seed:n}=e;return s.$$set=i=>{"seed"in i&&t(0,n=i.seed)},[n]}class It extends ne{constructor(e){super(),te(this,e,xn,Rn,Y,{seed:0})}}const ye=Tt([]);async function qn(s){return new Promise(e=>setTimeout(e,s))}function lt(s,e,t){const n=s.slice();return n[9]=e[t],n}const jn=s=>({}),ct=s=>({slot:"spinner"});function Ln(s){let e;const t=s[3].spinner,n=Ie(t,s,s[5],ct);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&32)&&Re(n,t,i,i[5],e?Ae(t,i[5],r,jn):xe(i[5]),ct)},i(i){e||(P(n,i),e=!0)},o(i){j(n,i),e=!1},d(i){n&&n.d(i)}}}function ut(s,e){let t,n,i,r,o,a,c,l=e[9].expand?.author?.name+"",d,f,h,u=e[9].text+"",p,b,m,_;return i=new It({props:{seed:e[9].expand?.author?.name??""}}),{key:s,first:null,c(){t=$("li"),n=$("div"),J(i.$$.fragment),r=R(),o=$("div"),a=$("div"),c=X("@"),d=X(l),f=R(),h=$("div"),p=X(u),b=R(),this.h()},l(C){t=k(C,"LI",{class:!0});var O=T(t);n=k(O,"DIV",{class:!0});var g=T(n);Q(i.$$.fragment,g),g.forEach(v),r=x(O),o=k(O,"DIV",{class:!0});var S=T(o);a=k(S,"DIV",{class:!0});var I=T(a);c=he(I,"@"),d=he(I,l),I.forEach(v),f=x(S),h=k(S,"DIV",{class:!0});var E=T(h);p=he(E,u),E.forEach(v),S.forEach(v),b=x(O),O.forEach(v),this.h()},h(){w(n,"class","message-image shadow-md svelte-ot2vuf"),w(a,"class","author svelte-ot2vuf"),w(h,"class","content"),w(o,"class","message-body"),w(t,"class","message svelte-ot2vuf"),this.first=t},m(C,O){U(C,t,O),y(t,n),K(i,n,null),y(t,r),y(t,o),y(o,a),y(a,c),y(a,d),y(o,f),y(o,h),y(h,p),y(t,b),_=!0},p(C,O){e=C;const g={};O&4&&(g.seed=e[9].expand?.author?.name??""),i.$set(g),(!_||O&4)&&l!==(l=e[9].expand?.author?.name+"")&&Ne(d,l),(!_||O&4)&&u!==(u=e[9].text+"")&&Ne(p,u)},i(C){_||(P(i.$$.fragment,C),C&&(m||z(()=>{m=Zt(t,Ve,{x:30,duration:e[0]?0:400}),m.start()})),_=!0)},o(C){j(i.$$.fragment,C),_=!1},d(C){C&&v(t),W(i)}}}function Un(s){let e,t,n,i,r=[],o=new Map,a,c,l;t=new Pt({props:{loading:s[0],$$slots:{spinner:[Ln]},$$scope:{ctx:s}}});let d=nt(s[2]);const f=h=>h[9].id;for(let h=0;h<d.length;h+=1){let u=lt(s,d,h),p=f(u);o.set(p,r[h]=ut(p,u))}return{c(){e=$("div"),J(t.$$.fragment),n=R(),i=$("ul");for(let h=0;h<r.length;h+=1)r[h].c();a=R(),c=$("div"),this.h()},l(h){e=k(h,"DIV",{class:!0});var u=T(e);Q(t.$$.fragment,u),n=x(u),i=k(u,"UL",{class:!0});var p=T(i);for(let b=0;b<r.length;b+=1)r[b].l(p);p.forEach(v),a=x(u),c=k(u,"DIV",{id:!0}),T(c).forEach(v),u.forEach(v),this.h()},h(){w(i,"class","svelte-ot2vuf"),w(c,"id","bottom"),w(e,"class","message-list shadow-md svelte-ot2vuf"),Se(e,"loading",s[0])},m(h,u){U(h,e,u),K(t,e,null),y(e,n),y(e,i);for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(i,null);y(e,a),y(e,c),s[4](c),l=!0},p(h,[u]){const p={};u&1&&(p.loading=h[0]),u&32&&(p.$$scope={dirty:u,ctx:h}),t.$set(p),u&4&&(d=nt(h[2]),Ee(),r=nn(r,u,f,1,h,d,o,i,tn,ut,null,lt),Te()),(!l||u&1)&&Se(e,"loading",h[0])},i(h){if(!l){P(t.$$.fragment,h);for(let u=0;u<d.length;u+=1)P(r[u]);l=!0}},o(h){j(t.$$.fragment,h);for(let u=0;u<r.length;u+=1)j(r[u]);l=!1},d(h){h&&v(e),W(t);for(let u=0;u<r.length;u+=1)r[u].d();s[4](null)}}}function Nn(s,e,t){let n;Me(s,ye,h=>t(2,n=h));let{$$slots:i={},$$scope:r}=e,o=!0,a=()=>{},c;St(async()=>{const h=await V.collection("posts").getList(1,50,{sort:"created",expand:"author"});je(ye,n=h.items,n),a=await V.collection("posts").subscribe("*",l),await d(),t(0,o=!1)}),Gt(async()=>{a()});async function l({action:h,record:u}){if(h==="create"){const p=await V.collection("users").getOne(u.author);u.expand={author:p},je(ye,n=[...n,u],n),d()}h==="delete"&&je(ye,n=n.filter(p=>p.id!==u.id),n)}async function d(){await qn(10),c.scrollIntoView({behavior:"auto"})}function f(h){De[h?"unshift":"push"](()=>{c=h,t(1,c)})}return s.$$set=h=>{"$$scope"in h&&t(5,r=h.$$scope)},[o,c,n,i,f,r]}class Dn extends ne{constructor(e){super(),te(this,e,Nn,Un,Y,{})}}function Fn(s){let e,t,n,i,r,o;return{c(){e=$("form"),t=$("input"),n=R(),i=$("input"),this.h()},l(a){e=k(a,"FORM",{class:!0});var c=T(e);t=k(c,"INPUT",{type:!0,placeholder:!0}),n=x(c),i=k(c,"INPUT",{type:!0}),c.forEach(v),this.h()},h(){w(t,"type","text"),w(t,"placeholder","Post..."),t.required=!0,w(i,"type","submit"),i.value="Send",w(e,"class","svelte-1631mkx")},m(a,c){U(a,e,c),y(e,t),ae(t,s[0]),y(e,n),y(e,i),r||(o=[G(t,"input",s[2]),G(e,"submit",yt(s[1]))],r=!0)},p(a,[c]){c&1&&t.value!==a[0]&&ae(t,a[0])},i:q,o:q,d(a){a&&v(e),r=!1,M(o)}}}function Vn(s,e,t){let n;Me(s,Je,a=>t(3,n=a));let i="";async function r(){if(i==="")return;const a=i;t(0,i="");const c={text:a,author:n?.id};await V.collection("posts").create(c)}function o(){i=this.value,t(0,i)}return[i,r,o]}class Mn extends ne{constructor(e){super(),te(this,e,Vn,Fn,Y,{})}}const Bn=s=>({}),ht=s=>({slot:"spinner"}),Kn=s=>({}),dt=s=>({slot:"spinner"});function ft(s){let e,t,n,i,r=s[1].username+"",o,a,c,l,d,f;return t=new Tn({}),l=new It({props:{seed:s[1].username}}),{c(){e=$("div"),J(t.$$.fragment),n=R(),i=$("div"),o=X(r),a=R(),c=$("div"),J(l.$$.fragment),this.h()},l(h){e=k(h,"DIV",{class:!0});var u=T(e);Q(t.$$.fragment,u),n=x(u),i=k(u,"DIV",{class:!0});var p=T(i);o=he(p,r),p.forEach(v),a=x(u),c=k(u,"DIV",{class:!0});var b=T(c);Q(l.$$.fragment,b),b.forEach(v),u.forEach(v),this.h()},h(){w(i,"class","username svelte-196rl03"),w(c,"class","user-image shadow-sm svelte-196rl03"),w(e,"class","user-card shadow-sm svelte-196rl03")},m(h,u){U(h,e,u),K(t,e,null),y(e,n),y(e,i),y(i,o),y(e,a),y(e,c),K(l,c,null),f=!0},p(h,u){(!f||u&2)&&r!==(r=h[1].username+"")&&Ne(o,r);const p={};u&2&&(p.seed=h[1].username),l.$set(p)},i(h){f||(P(t.$$.fragment,h),P(l.$$.fragment,h),h&&z(()=>{f&&(d||(d=tt(e,Ve,{y:-10,duration:400},!0)),d.run(1))}),f=!0)},o(h){j(t.$$.fragment,h),j(l.$$.fragment,h),h&&(d||(d=tt(e,Ve,{y:-10,duration:400},!1)),d.run(0)),f=!1},d(h){h&&v(e),W(t),W(l),h&&d&&d.end()}}}function Wn(s){let e;const t=s[2].spinner,n=Ie(t,s,s[3],dt);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&Re(n,t,i,i[3],e?Ae(t,i[3],r,Kn):xe(i[3]),dt)},i(i){e||(P(n,i),e=!0)},o(i){j(n,i),e=!1},d(i){n&&n.d(i)}}}function Hn(s){let e,t;return e=new kn({}),{c(){J(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,i){K(e,n,i),t=!0},p:q,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Gn(s){let e,t,n,i,r="Send a post",o,a,c;return t=new Dn({props:{$$slots:{spinner:[zn]},$$scope:{ctx:s}}}),a=new Mn({}),{c(){e=$("div"),J(t.$$.fragment),n=R(),i=$("p"),i.textContent=r,o=R(),J(a.$$.fragment),this.h()},l(l){e=k(l,"DIV",{class:!0});var d=T(e);Q(t.$$.fragment,d),d.forEach(v),n=x(l),i=k(l,"P",{"data-svelte-h":!0}),Z(i)!=="svelte-ummdzd"&&(i.textContent=r),o=x(l),Q(a.$$.fragment,l),this.h()},h(){w(e,"class","message-container")},m(l,d){U(l,e,d),K(t,e,null),U(l,n,d),U(l,i,d),U(l,o,d),K(a,l,d),c=!0},p(l,d){const f={};d&8&&(f.$$scope={dirty:d,ctx:l}),t.$set(f)},i(l){c||(P(t.$$.fragment,l),P(a.$$.fragment,l),c=!0)},o(l){j(t.$$.fragment,l),j(a.$$.fragment,l),c=!1},d(l){l&&(v(e),v(n),v(i),v(o)),W(t),W(a,l)}}}function zn(s){let e;const t=s[2].spinner,n=Ie(t,s,s[3],ht);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&Re(n,t,i,i[3],e?Ae(t,i[3],r,Bn):xe(i[3]),ht)},i(i){e||(P(n,i),e=!0)},o(i){j(n,i),e=!1},d(i){n&&n.d(i)}}}function Jn(s){let e,t,n,i="Endless Struggle",r,o,a,c,l,d,f,h,u,p='<div class="footer-content svelte-196rl03"><p>Created by FireIsGood</p></div>',b,m=s[1]&&!s[0]&&ft(s);c=new Pt({props:{loading:s[0],$$slots:{spinner:[Wn]},$$scope:{ctx:s}}});const _=[Gn,Hn],C=[];function O(g,S){return g[1]?0:1}return d=O(s),f=C[d]=_[d](s),{c(){e=$("header"),t=$("div"),n=$("h1"),n.textContent=i,r=R(),m&&m.c(),o=R(),a=$("main"),J(c.$$.fragment),l=R(),f.c(),h=R(),u=$("footer"),u.innerHTML=p,this.h()},l(g){e=k(g,"HEADER",{class:!0});var S=T(e);t=k(S,"DIV",{class:!0});var I=T(t);n=k(I,"H1",{"data-svelte-h":!0}),Z(n)!=="svelte-14t5sun"&&(n.textContent=i),r=x(I),m&&m.l(I),I.forEach(v),S.forEach(v),o=x(g),a=k(g,"MAIN",{class:!0});var E=T(a);Q(c.$$.fragment,E),l=x(E),f.l(E),E.forEach(v),h=x(g),u=k(g,"FOOTER",{class:!0,"data-svelte-h":!0}),Z(u)!=="svelte-8udjqc"&&(u.innerHTML=p),this.h()},h(){w(t,"class","header-content svelte-196rl03"),w(e,"class","svelte-196rl03"),w(a,"class","svelte-196rl03"),w(u,"class","svelte-196rl03")},m(g,S){U(g,e,S),y(e,t),y(t,n),y(t,r),m&&m.m(t,null),U(g,o,S),U(g,a,S),K(c,a,null),y(a,l),C[d].m(a,null),U(g,h,S),U(g,u,S),b=!0},p(g,[S]){g[1]&&!g[0]?m?(m.p(g,S),S&3&&P(m,1)):(m=ft(g),m.c(),P(m,1),m.m(t,null)):m&&(Ee(),j(m,1,1,()=>{m=null}),Te());const I={};S&1&&(I.loading=g[0]),S&8&&(I.$$scope={dirty:S,ctx:g}),c.$set(I);let E=d;d=O(g),d===E?C[d].p(g,S):(Ee(),j(C[E],1,1,()=>{C[E]=null}),Te(),f=C[d],f?f.p(g,S):(f=C[d]=_[d](g),f.c()),P(f,1),f.m(a,null))},i(g){b||(P(m),P(c.$$.fragment,g),P(f),b=!0)},o(g){j(m),j(c.$$.fragment,g),j(f),b=!1},d(g){g&&(v(e),v(o),v(a),v(h),v(u)),m&&m.d(),W(c),C[d].d()}}}function Qn(s,e,t){let n;Me(s,Je,a=>t(1,n=a));let{$$slots:i={},$$scope:r}=e,o=!0;return St(()=>{t(0,o=!1)}),s.$$set=a=>{"$$scope"in a&&t(3,r=a.$$scope)},[o,n,i,r]}class Xn extends ne{constructor(e){super(),te(this,e,Qn,Jn,Y,{})}}export{Xn as default};
